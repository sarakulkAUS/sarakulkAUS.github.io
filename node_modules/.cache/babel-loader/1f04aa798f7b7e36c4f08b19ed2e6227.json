{"ast":null,"code":"!function (t, e) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define([], e) : \"object\" == typeof exports ? exports.aemSpaPageModelManager = e() : t.aemSpaPageModelManager = e();\n}(function () {\n  try {\n    return \"undefined\" != typeof self;\n  } catch (t) {\n    return !1;\n  }\n}() ? self : this, function () {\n  return (() => {\n    \"use strict\";\n\n    var t = {\n      470: t => {\n        function e(t) {\n          if (\"string\" != typeof t) throw new TypeError(\"Path must be a string. Received \" + JSON.stringify(t));\n        }\n\n        function r(t, e) {\n          for (var r, i = \"\", n = 0, o = -1, s = 0, a = 0; a <= t.length; ++a) {\n            if (a < t.length) r = t.charCodeAt(a);else {\n              if (47 === r) break;\n              r = 47;\n            }\n\n            if (47 === r) {\n              if (o === a - 1 || 1 === s) ;else if (o !== a - 1 && 2 === s) {\n                if (i.length < 2 || 2 !== n || 46 !== i.charCodeAt(i.length - 1) || 46 !== i.charCodeAt(i.length - 2)) if (i.length > 2) {\n                  var l = i.lastIndexOf(\"/\");\n\n                  if (l !== i.length - 1) {\n                    -1 === l ? (i = \"\", n = 0) : n = (i = i.slice(0, l)).length - 1 - i.lastIndexOf(\"/\"), o = a, s = 0;\n                    continue;\n                  }\n                } else if (2 === i.length || 1 === i.length) {\n                  i = \"\", n = 0, o = a, s = 0;\n                  continue;\n                }\n                e && (i.length > 0 ? i += \"/..\" : i = \"..\", n = 2);\n              } else i.length > 0 ? i += \"/\" + t.slice(o + 1, a) : i = t.slice(o + 1, a), n = a - o - 1;\n              o = a, s = 0;\n            } else 46 === r && -1 !== s ? ++s : s = -1;\n          }\n\n          return i;\n        }\n\n        var i = {\n          resolve: function () {\n            for (var t, i = \"\", n = !1, o = arguments.length - 1; o >= -1 && !n; o--) {\n              var s;\n              o >= 0 ? s = arguments[o] : (void 0 === t && (t = process.cwd()), s = t), e(s), 0 !== s.length && (i = s + \"/\" + i, n = 47 === s.charCodeAt(0));\n            }\n\n            return i = r(i, !n), n ? i.length > 0 ? \"/\" + i : \"/\" : i.length > 0 ? i : \".\";\n          },\n          normalize: function (t) {\n            if (e(t), 0 === t.length) return \".\";\n            var i = 47 === t.charCodeAt(0),\n                n = 47 === t.charCodeAt(t.length - 1);\n            return 0 !== (t = r(t, !i)).length || i || (t = \".\"), t.length > 0 && n && (t += \"/\"), i ? \"/\" + t : t;\n          },\n          isAbsolute: function (t) {\n            return e(t), t.length > 0 && 47 === t.charCodeAt(0);\n          },\n          join: function () {\n            if (0 === arguments.length) return \".\";\n\n            for (var t, r = 0; r < arguments.length; ++r) {\n              var n = arguments[r];\n              e(n), n.length > 0 && (void 0 === t ? t = n : t += \"/\" + n);\n            }\n\n            return void 0 === t ? \".\" : i.normalize(t);\n          },\n          relative: function (t, r) {\n            if (e(t), e(r), t === r) return \"\";\n            if ((t = i.resolve(t)) === (r = i.resolve(r))) return \"\";\n\n            for (var n = 1; n < t.length && 47 === t.charCodeAt(n); ++n);\n\n            for (var o = t.length, s = o - n, a = 1; a < r.length && 47 === r.charCodeAt(a); ++a);\n\n            for (var l = r.length - a, h = s < l ? s : l, c = -1, d = 0; d <= h; ++d) {\n              if (d === h) {\n                if (l > h) {\n                  if (47 === r.charCodeAt(a + d)) return r.slice(a + d + 1);\n                  if (0 === d) return r.slice(a + d);\n                } else s > h && (47 === t.charCodeAt(n + d) ? c = d : 0 === d && (c = 0));\n\n                break;\n              }\n\n              var u = t.charCodeAt(n + d);\n              if (u !== r.charCodeAt(a + d)) break;\n              47 === u && (c = d);\n            }\n\n            var p = \"\";\n\n            for (d = n + c + 1; d <= o; ++d) d !== o && 47 !== t.charCodeAt(d) || (0 === p.length ? p += \"..\" : p += \"/..\");\n\n            return p.length > 0 ? p + r.slice(a + c) : (a += c, 47 === r.charCodeAt(a) && ++a, r.slice(a));\n          },\n          _makeLong: function (t) {\n            return t;\n          },\n          dirname: function (t) {\n            if (e(t), 0 === t.length) return \".\";\n\n            for (var r = t.charCodeAt(0), i = 47 === r, n = -1, o = !0, s = t.length - 1; s >= 1; --s) if (47 === (r = t.charCodeAt(s))) {\n              if (!o) {\n                n = s;\n                break;\n              }\n            } else o = !1;\n\n            return -1 === n ? i ? \"/\" : \".\" : i && 1 === n ? \"//\" : t.slice(0, n);\n          },\n          basename: function (t, r) {\n            if (void 0 !== r && \"string\" != typeof r) throw new TypeError('\"ext\" argument must be a string');\n            e(t);\n            var i,\n                n = 0,\n                o = -1,\n                s = !0;\n\n            if (void 0 !== r && r.length > 0 && r.length <= t.length) {\n              if (r.length === t.length && r === t) return \"\";\n              var a = r.length - 1,\n                  l = -1;\n\n              for (i = t.length - 1; i >= 0; --i) {\n                var h = t.charCodeAt(i);\n\n                if (47 === h) {\n                  if (!s) {\n                    n = i + 1;\n                    break;\n                  }\n                } else -1 === l && (s = !1, l = i + 1), a >= 0 && (h === r.charCodeAt(a) ? -1 == --a && (o = i) : (a = -1, o = l));\n              }\n\n              return n === o ? o = l : -1 === o && (o = t.length), t.slice(n, o);\n            }\n\n            for (i = t.length - 1; i >= 0; --i) if (47 === t.charCodeAt(i)) {\n              if (!s) {\n                n = i + 1;\n                break;\n              }\n            } else -1 === o && (s = !1, o = i + 1);\n\n            return -1 === o ? \"\" : t.slice(n, o);\n          },\n          extname: function (t) {\n            e(t);\n\n            for (var r = -1, i = 0, n = -1, o = !0, s = 0, a = t.length - 1; a >= 0; --a) {\n              var l = t.charCodeAt(a);\n              if (47 !== l) -1 === n && (o = !1, n = a + 1), 46 === l ? -1 === r ? r = a : 1 !== s && (s = 1) : -1 !== r && (s = -1);else if (!o) {\n                i = a + 1;\n                break;\n              }\n            }\n\n            return -1 === r || -1 === n || 0 === s || 1 === s && r === n - 1 && r === i + 1 ? \"\" : t.slice(r, n);\n          },\n          format: function (t) {\n            if (null === t || \"object\" != typeof t) throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof t);\n            return function (t, e) {\n              var r = e.dir || e.root,\n                  i = e.base || (e.name || \"\") + (e.ext || \"\");\n              return r ? r === e.root ? r + i : r + \"/\" + i : i;\n            }(0, t);\n          },\n          parse: function (t) {\n            e(t);\n            var r = {\n              root: \"\",\n              dir: \"\",\n              base: \"\",\n              ext: \"\",\n              name: \"\"\n            };\n            if (0 === t.length) return r;\n            var i,\n                n = t.charCodeAt(0),\n                o = 47 === n;\n            o ? (r.root = \"/\", i = 1) : i = 0;\n\n            for (var s = -1, a = 0, l = -1, h = !0, c = t.length - 1, d = 0; c >= i; --c) if (47 !== (n = t.charCodeAt(c))) -1 === l && (h = !1, l = c + 1), 46 === n ? -1 === s ? s = c : 1 !== d && (d = 1) : -1 !== s && (d = -1);else if (!h) {\n              a = c + 1;\n              break;\n            }\n\n            return -1 === s || -1 === l || 0 === d || 1 === d && s === l - 1 && s === a + 1 ? -1 !== l && (r.base = r.name = 0 === a && o ? t.slice(1, l) : t.slice(a, l)) : (0 === a && o ? (r.name = t.slice(1, s), r.base = t.slice(1, l)) : (r.name = t.slice(a, s), r.base = t.slice(a, l)), r.ext = t.slice(s, l)), a > 0 ? r.dir = t.slice(0, a - 1) : o && (r.dir = \"/\"), r;\n          },\n          sep: \"/\",\n          delimiter: \":\",\n          win32: null,\n          posix: null\n        };\n        i.posix = i, t.exports = i;\n      },\n      873: (t, e, r) => {\n        r.r(e), r.d(e, {\n          AEM_MODE: () => l,\n          AuthoringUtils: () => y,\n          Constants: () => c,\n          ModelClient: () => R,\n          ModelManager: () => A,\n          PathUtils: () => C\n        });\n\n        class i {\n          constructor() {}\n\n        }\n\n        i.PAGE_MODEL_INIT = \"cq-pagemodel-init\", i.PAGE_MODEL_LOADED = \"cq-pagemodel-loaded\", i.PAGE_MODEL_UPDATE = \"cq-pagemodel-update\", i.PAGE_MODEL_ROUTE_CHANGED = \"cq-pagemodel-route-changed\";\n        const n = i;\n\n        class o {\n          constructor() {}\n\n        }\n\n        o.PAGE_MODEL_ROOT_URL = \"cq:pagemodel_root_url\", o.PAGE_MODEL_ROUTE_FILTERS = \"cq:pagemodel_route_filters\", o.PAGE_MODEL_ROUTER = \"cq:pagemodel_router\", o.WCM_MODE = \"cq:wcmmode\", o.WCM_DATA_TYPE = \"cq:datatype\";\n        const s = o;\n\n        class a {\n          constructor() {}\n\n        }\n\n        var l, h;\n        a.TYPE_PROP = \":type\", a.ITEMS_PROP = \":items\", a.ITEMS_ORDER_PROP = \":itemsOrder\", a.PATH_PROP = \":path\", a.CHILDREN_PROP = \":children\", a.HIERARCHY_TYPE_PROP = \":hierarchyType\", a.JCR_CONTENT = \"jcr:content\", function (t) {\n          t.EDIT = \"edit\", t.PREVIEW = \"preview\", t.DISABLED = \"disabled\";\n        }(l || (l = {})), function (t) {\n          t.JS = \"script\", t.STYLESHEET = \"stylesheet\";\n        }(h || (h = {}));\n\n        const c = a,\n              d = require(\"clone\");\n\n        var u = r.n(d),\n            p = r(470);\n\n        const f = require(\"url\");\n\n        var g = r.n(f);\n\n        class _ {\n          constructor() {}\n\n        }\n\n        _.DEFAULT_SLING_MODEL_SELECTOR = \"model\", _.DEFAULT_MODEL_JSON_EXTENSION = `.${_.DEFAULT_SLING_MODEL_SELECTOR}.json`;\n        const m = _,\n              P = /(?:\\/)(?:content|apps|libs|etc|etc.clientlibs|conf|mnt\\/overlay)(?:\\/)/,\n              E = `(.+)/${c.JCR_CONTENT}/(.+)`,\n              M = \"http://dummy\";\n\n        class C {\n          static isBrowser() {\n            return \"undefined\" != typeof window;\n          }\n\n          static getContextPath(t) {\n            const e = t || this.getCurrentPathname();\n            if (!e) return \"\";\n            const r = e.match(P),\n                  i = null === r ? -1 : r.index || -1;\n            return i > 0 ? e.slice(0, i) : \"\";\n          }\n\n          static adaptPagePath(t, e) {\n            if (!t) return \"\";\n            const r = C.internalize(t);\n            return e && r === C.sanitize(e) ? \"\" : r;\n          }\n\n          static externalize(t) {\n            const e = this.getContextPath();\n            return t.startsWith(e) ? t : `${e}${t}`;\n          }\n\n          static internalize(t) {\n            if (!t || \"string\" != typeof t) return \"\";\n            const e = this.getContextPath();\n            return t.replace(new RegExp(`^${e}/`), \"/\");\n          }\n\n          static getMetaPropertyValue(t) {\n            let e = null;\n\n            if (this.isBrowser()) {\n              const r = document.head.querySelector(`meta[property=\"${t}\"]`);\n              e = r ? r.getAttribute(\"content\") : null;\n            }\n\n            return e;\n          }\n\n          static convertToModelUrl(t) {\n            return t && t.replace && t.replace(/\\.htm(l)?$/, m.DEFAULT_MODEL_JSON_EXTENSION);\n          }\n\n          static getCurrentPageModelUrl() {\n            const t = this.getCurrentPathname();\n            let e = null;\n            return t && (e = this.convertToModelUrl(t) || null), e;\n          }\n\n          static getModelUrl(t) {\n            if (t && t.replace) return this.convertToModelUrl(t);\n            return this.getMetaPropertyValue(s.PAGE_MODEL_ROOT_URL) || this.getCurrentPageModelUrl();\n          }\n\n          static sanitize(t) {\n            if (!t || \"string\" != typeof t) return null;\n            let e = g().parse(t, !1, !0).pathname;\n\n            if (e) {\n              e = this.internalize(e);\n              const t = e.indexOf(\".\");\n              t > -1 && (e = e.substr(0, t)), e = (0, p.normalize)(e);\n            }\n\n            return e;\n          }\n\n          static addExtension(t, e) {\n            if (!e || e.length < 1) return t;\n            if (e.startsWith(\".\") || (e = \".\" + e), !t || t.length < 1 || t.indexOf(e) > -1) return t;\n            let r = this.normalize(t);\n            const i = new URL(r, M);\n            let n = this.sanitize(i.pathname);\n            n = i.origin === M ? n : i.origin + n;\n\n            let o = this._extractPathWithoutResource(i.pathname);\n\n            return o = this._replaceExtension(o, e), r = (n + \".\" + o + i.search).replace(/\\.\\./g, \".\"), r;\n          }\n\n          static _extractPathWithoutResource(t) {\n            const e = t.split(\".\");\n            return e.shift(), e.join(\".\");\n          }\n\n          static _replaceExtension(t, e) {\n            if (t.length < 1) return e;\n            const r = t.split(\"/\"),\n                  i = r[0].split(\".\");\n            let n = i.pop();\n            n = n ? n.replace(/\\.htm(l)?/, \"\") : \"\";\n            let o = i.join(\".\") + \".\" + n + e;\n            return r.shift(), r.length > 0 && (o += r.join(\"/\")), o;\n          }\n\n          static addSelector(t, e) {\n            if (!e || e.length < 1) return t;\n            if (e.startsWith(\".\") || (e = \".\" + e), !t || t.length < 1 || t.indexOf(e) > -1) return t;\n            const r = t.indexOf(\".\") || t.length;\n            return r < 0 ? t + e : t.slice(0, r) + e + t.slice(r, t.length);\n          }\n\n          static getCurrentPathname() {\n            return this.isBrowser() ? window.location.pathname : null;\n          }\n\n          static getCurrentURL() {\n            return this.isBrowser() ? window.location.href : \"\";\n          }\n\n          static dispatchGlobalCustomEvent(t, e) {\n            this.isBrowser() && window.dispatchEvent(new CustomEvent(t, e));\n          }\n\n          static join(t) {\n            return t ? this.normalize(t.filter(t => t).join(\"/\")) : \"\";\n          }\n\n          static normalize(t) {\n            return t ? t.replace(/\\/+/g, \"/\") : \"\";\n          }\n\n          static makeAbsolute(t) {\n            return t && \"string\" == typeof t ? t.startsWith(\"/\") ? t : \"/\" + t : \"\";\n          }\n\n          static makeRelative(t) {\n            return t && \"string\" == typeof t ? t.startsWith(\"/\") ? t.slice(1) : t : \"\";\n          }\n\n          static getParentNodePath(t) {\n            if (t && t.length > 0) {\n              const e = t.lastIndexOf(\"/\") + 1;\n              if (e < t.length) return t.substring(0, e - 1);\n            }\n\n            return null;\n          }\n\n          static isItem(t) {\n            return new RegExp(E).test(t);\n          }\n\n          static getNodeName(t) {\n            return (\"string\" == typeof t ? t.replace(/\\/+/g, \"/\").split(/\\//).filter(Boolean) : []).pop() || null;\n          }\n\n          static subpath(t, e) {\n            if (!t) return \"\";\n            const r = C.makeRelative(t).split(\"/\"),\n                  i = C.makeRelative(e).split(\"/\");\n            if (r.length < i.length) return t;\n            let n;\n\n            for (n = 0; n < i.length && r[n] === i[n]; ++n);\n\n            return n === i.length ? r.slice(n).join(\"/\") : t;\n          }\n\n          static splitByDelimitators(t, e) {\n            let r = [t];\n            return e.forEach(t => {\n              let e = [];\n              const i = C.normalize(C.makeAbsolute(t) + \"/\");\n              r.forEach(r => {\n                if (e = e.concat(r.split(i)), r.endsWith(t)) {\n                  const r = e.splice(e.length - 1, 1)[0];\n                  r !== t && (e = e.concat(r.split(C.makeAbsolute(t))));\n                }\n\n                e = e.filter(t => t);\n              }), r = e;\n            }), r;\n          }\n\n          static _getJCRPath(t, e) {\n            return [t, c.JCR_CONTENT, e].join(\"/\");\n          }\n\n          static splitPageContentPaths(t) {\n            if (!t && \"string\" != typeof t) return;\n            const e = t.split(`/${c.JCR_CONTENT}/`),\n                  r = {\n              pagePath: e[0]\n            };\n            return e.length > 1 && (r.itemPath = e[1]), r;\n          }\n\n          static trimStrings(t, e) {\n            return e.forEach(e => {\n              for (; t.startsWith(e);) t = C.makeRelative(t.slice(e.length));\n\n              for (; t.endsWith(e);) (t = t.slice(0, t.length - e.length)).endsWith(\"/\") && (t = t.slice(0, t.length - 1));\n            }), t;\n          }\n\n          static _getStartStrings(t, e) {\n            let r = \"\";\n            return e.forEach(e => {\n              for (; t.startsWith(e);) t = C.makeRelative(t.slice(e.length)), r = `${r}/${e}`;\n            }), C.makeRelative(r);\n          }\n\n          static toAEMPath(t, e, r) {\n            if (window.location.origin === e) {\n              const e = `(/editor.html)?(/content/${r = r.replace(/^\\/|\\/$/g, \"\")})?`;\n              if (t.indexOf(e) < 0) return `${e}${t}(.html)?`;\n            }\n\n            return t;\n          }\n\n        }\n\n        function O(t) {\n          C.dispatchGlobalCustomEvent(n.PAGE_MODEL_LOADED, {\n            detail: {\n              model: u()(t)\n            }\n          });\n        }\n\n        class D {\n          constructor(t) {\n            this._modelManager = t, this._windowListener = t => {\n              t && t.detail && t.detail.msg ? this._updateModel(t.detail.msg) : console.error(\"EditorService.js\", \"No message passed to cq-pagemodel-update\", t);\n            }, C.isBrowser() && window.addEventListener(n.PAGE_MODEL_UPDATE, this._windowListener);\n          }\n\n          _updateModel(t) {\n            if (!t || !t.cmd || !t.path) return void console.error(\"PageModelManager.js\", \"Not enough data received to update the page model\");\n            const e = t.path,\n                  r = t.cmd,\n                  i = u()(t.data);\n            let n, o, s;\n            const a = C.getParentNodePath(e);\n\n            switch (r) {\n              case \"replace\":\n                this._modelManager.modelStore.setData(e, i), this._modelManager._notifyListeners(e);\n                break;\n\n              case \"delete\":\n                this._modelManager.modelStore.removeData(e), a && this._modelManager._notifyListeners(a);\n                break;\n\n              case \"insertBefore\":\n                s = !0;\n\n              case \"insertAfter\":\n                n = C.getNodeName(e), a && (o = a + \"/\" + i.key, this._modelManager.modelStore.insertData(o, i.value, n, s), this._modelManager._notifyListeners(a));\n                break;\n\n              default:\n                console.log(\"EditorClient\", \"unsupported command:\", r);\n            }\n\n            O(this._modelManager.modelStore.dataMap);\n          }\n\n          destroy() {\n            C.isBrowser() && window.removeEventListener(n.PAGE_MODEL_UPDATE, this._windowListener);\n          }\n\n        }\n\n        class R {\n          constructor(t) {\n            this._apiHost = t || null;\n          }\n\n          get apiHost() {\n            return this._apiHost;\n          }\n\n          fetch(t) {\n            if (!t) {\n              const e = \"Fetching model rejected for path: \" + t;\n              return Promise.reject(new Error(e));\n            }\n\n            const e = this._apiHost || \"\";\n            return fetch(`${e}${t}`, {\n              credentials: \"same-origin\"\n            }).then(t => {\n              if (t.status >= 200 && t.status < 300) return t.json();\n              throw {\n                response: t\n              };\n            }).catch(t => Promise.reject(t));\n          }\n\n          destroy() {\n            this._apiHost = null;\n          }\n\n        }\n\n        class v {\n          constructor(t, e) {\n            this._data = null, this._rootPath = null, this._data = {}, t && this.initialize(t, e || {}), this._pageContentDelimiter = [c.JCR_CONTENT];\n          }\n\n          initialize(t, e) {\n            e && (this._data = e), this._rootPath = t;\n          }\n\n          get rootPath() {\n            return this._rootPath || \"\";\n          }\n\n          get dataMap() {\n            return this._data;\n          }\n\n          setData(t) {\n            let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            const r = C.getNodeName(t);\n\n            if (r) {\n              const i = this.getData(C.getParentNodePath(t), !1);\n\n              if (i && i[c.ITEMS_PROP]) {\n                const t = u()(e),\n                      n = i[c.ITEMS_PROP] || {};\n                n[r] && Object.keys(n[r]).forEach(e => t.value[e] = t.value[e] || \"\"), n[r] = t.value, i[c.ITEMS_PROP] = n;\n              }\n            }\n          }\n\n          getData(t) {\n            let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n            if (!t && \"string\" != typeof t) return e ? u()(this._data) : this._data;\n            if (t === this._rootPath || t === `${this._rootPath}/${c.JCR_CONTENT}`) return e ? u()(this._data) : this._data;\n            const r = C.splitPageContentPaths(t);\n\n            if (r) {\n              const t = this._getPageData(r.pagePath);\n\n              if (!t || !r.itemPath) return e ? u()(t) : t;\n\n              const i = this._findItemData(r.itemPath, t);\n\n              if (i) return e ? u()(i.data) : i.data;\n            }\n          }\n\n          insertData(t, e, r) {\n            let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n            if (e = u()(e), !t) return void console.warn(\"No path provided for data: \" + e);\n            if (!C.isItem(t) && this._data) return this._data[c.CHILDREN_PROP] || (this._data[c.CHILDREN_PROP] = {}), void (this._data[c.CHILDREN_PROP][t] = e);\n            const n = C.splitPageContentPaths(t);\n\n            if (n && n.itemPath) {\n              const t = this._getPageData(n.pagePath),\n                    o = this._findItemData(n.itemPath, t).parent || t || this._data,\n                    s = C.getNodeName(n.itemPath);\n\n              if (null != s && o && Object.prototype.hasOwnProperty.call(o, c.ITEMS_PROP)) {\n                const t = o[c.ITEMS_PROP];\n\n                if (t) {\n                  t[s] = e;\n                  const n = o[c.ITEMS_ORDER_PROP];\n\n                  if (null != n && n.length > 0 && null != r) {\n                    const t = n.indexOf(r);\n                    t > -1 ? n.splice(i ? t : t + 1, 0, s) : n.push(s);\n                  }\n                }\n              }\n            }\n          }\n\n          removeData(t) {\n            if (!t) return null;\n            if (!C.isItem(t) && this._data && this._data[c.CHILDREN_PROP]) return delete this._data[c.CHILDREN_PROP][t], null;\n            const e = C.splitPageContentPaths(t);\n\n            if (e && e.itemPath) {\n              const t = this._getPageData(e.pagePath),\n                    r = this._findItemData(e.itemPath, t);\n\n              if (r.data && r && r.parent && Object.prototype.hasOwnProperty.call(r.parent, c.ITEMS_PROP)) {\n                const {\n                  parent: t\n                } = r,\n                      i = t[c.ITEMS_PROP],\n                      n = C.getNodeName(e.itemPath);\n\n                if (n) {\n                  i && delete i[n], delete r.data, delete r.parent;\n                  const e = t[c.ITEMS_ORDER_PROP];\n\n                  if (e && e.length > 0) {\n                    const t = e.indexOf(n);\n                    e.splice(t, 1);\n                  }\n\n                  return r.parentPath ? r.parentPath : null;\n                }\n              }\n            }\n\n            return console.warn(`Item for path ${t} was not found! Nothing to remove then.`), null;\n          }\n\n          destroy() {\n            this._data = null, this._rootPath = null, this._pageContentDelimiter = null;\n          }\n\n          _findItemData(t) {\n            let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._data;\n            let r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n            let i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"\";\n            const n = {\n              parent: r,\n              parentPath: i\n            };\n            if (!e) throw new Error(\"Assertion error: No data provided. This should never happen.\");\n            const o = e[c.ITEMS_PROP];\n            if (!o) return n;\n\n            for (const e in o) {\n              if (!Object.prototype.hasOwnProperty.call(o, e)) continue;\n              const r = o[e];\n              if (e === t) return n.data = o[e], n.key = e, n;\n              {\n                let n = C.subpath(t, e);\n                if (!this._pageContentDelimiter) throw new Error(\"_pageContentDelimiter not set. this should never happen as its set in constructor.\");\n                {\n                  const o = C._getStartStrings(n, this._pageContentDelimiter),\n                        s = C.join([i, e, o]);\n\n                  if (n = C.trimStrings(n, this._pageContentDelimiter), n !== t) {\n                    const t = this._findItemData(n, r, r, s);\n\n                    if (t) return t;\n                  }\n                }\n              }\n            }\n\n            return n;\n          }\n\n          _getPageData(t) {\n            if (!this._data) return;\n            if (\"\" === t || t === this._data[c.PATH_PROP] || t === this.rootPath) return this._data;\n            const e = this._data[c.CHILDREN_PROP];\n            return e && e[t];\n          }\n\n        }\n\n        class y {\n          constructor(t) {\n            this._apiDomain = t;\n          }\n\n          getApiDomain() {\n            return this._apiDomain;\n          }\n\n          getAemLibraries() {\n            const t = document.createDocumentFragment();\n            if (!y.isRemoteApp() || !y.isEditMode()) return t;\n            const e = this.prependDomain(y.AUTHORING_LIBRARIES.JS),\n                  r = this.prependDomain(y.AUTHORING_LIBRARIES.CSS),\n                  i = y.AUTHORING_LIBRARIES.META;\n            return t.append(this.generateScriptElements(e)), t.append(this.generateLinkElements(r)), t.append(this.generateMetaElements(i)), t;\n          }\n\n          setOnLoadCallback(t, e) {\n            const r = t.querySelectorAll(\"script\");\n            r.length ? r[r.length - 1].onload = () => {\n              e();\n            } : e();\n          }\n\n          generateMetaElements(t) {\n            const e = document.createDocumentFragment();\n            return Object.entries(t).forEach(t => {\n              const [r, i] = t,\n                    n = document.createElement(\"meta\");\n              n.setAttribute(\"property\", r), n.content = i, e.appendChild(n);\n            }), e;\n          }\n\n          generateLinkElements(t) {\n            const e = document.createDocumentFragment();\n            return t.forEach(t => {\n              const r = document.createElement(\"link\");\n              r.type = \"text/css\", r.rel = \"stylesheet\", r.href = t, e.appendChild(r);\n            }), e;\n          }\n\n          generateScriptElements(t) {\n            const e = document.createDocumentFragment();\n            return t.forEach(t => {\n              const r = document.createElement(\"script\");\n              r.type = \"text/javascript\", r.src = t, r.async = !1, e.appendChild(r);\n            }), e;\n          }\n\n          static isMode(t) {\n            const e = C.getMetaPropertyValue(s.WCM_MODE) === t,\n                  r = C.isBrowser() && y.getWCMModeFromURL() === t;\n            return e || r;\n          }\n\n          static isEditMode() {\n            return y.isMode(l.EDIT);\n          }\n\n          static isPreviewMode() {\n            return y.isMode(l.PREVIEW);\n          }\n\n          static isRemoteApp() {\n            try {\n              return !!new URL(C.getCurrentURL()).searchParams.get(s.WCM_MODE);\n            } catch (t) {}\n\n            return !1;\n          }\n\n          static getWCMModeFromURL() {\n            let t;\n\n            try {\n              return t = new URL(C.getCurrentURL()), t.searchParams.get(s.WCM_MODE) || \"\";\n            } catch (t) {}\n\n            return \"\";\n          }\n\n          prependDomain(t) {\n            const e = [],\n                  r = this.getApiDomain();\n            return t.forEach(t => {\n              e.push(`${r || \"\"}${t}`);\n            }), e;\n          }\n\n          static isInEditor() {\n            return y.isEditMode() || y.isPreviewMode() || y.isRemoteApp();\n          }\n\n        }\n\n        y.EDITOR_CLIENTLIB_PATH = \"/etc.clientlibs/cq/gui/components/authoring/editors/clientlibs/\", y.AUTHORING_LIBRARIES = {\n          JS: [y.EDITOR_CLIENTLIB_PATH + \"internal/messaging.js\", y.EDITOR_CLIENTLIB_PATH + \"utils.js\", y.EDITOR_CLIENTLIB_PATH + \"internal/page.js\", y.EDITOR_CLIENTLIB_PATH + \"internal/pagemodel/messaging.js\"],\n          CSS: [y.EDITOR_CLIENTLIB_PATH + \"internal/page.css\"],\n          META: {\n            [s.WCM_DATA_TYPE]: \"JSON\"\n          }\n        };\n        const A = new class {\n          constructor() {\n            this._listenersMap = {}, this._fetchPromises = {}, this._modelPaths = {};\n          }\n\n          get modelClient() {\n            if (!this._modelClient) throw new Error(\"ModelClient is undefined. Call initialize first!\");\n            return this._modelClient;\n          }\n\n          get modelStore() {\n            if (!this._modelStore) throw new Error(\"ModelStore is undefined. Call initialize first!\");\n            return this._modelStore;\n          }\n\n          get clientlibUtil() {\n            if (!this._clientlibUtil) throw new Error(\"AuthoringUtils is undefined. Call initialize first!\");\n            return this._clientlibUtil;\n          }\n\n          initialize(t) {\n            this.initializeAsync(t);\n            const {\n              rootModelURL: e,\n              rootModelPath: r\n            } = this._modelPaths;\n            if (!e) throw new Error(\"Provide root model url to initialize ModelManager.\");\n            if (!r) throw new Error(\"No root modelpath resolved! This should never happen.\");\n            return this._initPromise;\n          }\n\n          initializeAsync(t) {\n            this.destroy();\n\n            const e = this._toModelConfig(t),\n                  r = e && e.model;\n\n            this._initializeFields(e), this._initPromise = this._attachAEMLibraries();\n            const {\n              rootModelPath: i\n            } = this._modelPaths;\n            this._modelStore = new v(i, r), i && this._setInitializationPromise(i);\n          }\n\n          _attachAEMLibraries() {\n            if (!C.isBrowser()) return Promise.resolve();\n            const t = this.clientlibUtil.getAemLibraries();\n            if (!t.hasChildNodes()) return Promise.resolve();\n            let e;\n            const r = new Promise(t => {\n              e = t;\n            });\n            return this.clientlibUtil.setOnLoadCallback(t, e), window.document.head.appendChild(t), r;\n          }\n\n          _initializeFields(t) {\n            this._listenersMap = {}, this._fetchPromises = {}, this._initPromise = null, this._modelClient = t && t.modelClient || new R(), this._editorClient = new D(this), this._clientlibUtil = new y(this.modelClient.apiHost), this._modelPaths = this._getPathsForModel(t);\n          }\n\n          _getPathsForModel(t) {\n            const e = null == t ? void 0 : t.path,\n                  r = C.getMetaPropertyValue(s.PAGE_MODEL_ROOT_URL),\n                  i = C.internalize(r),\n                  n = this._isRemoteApp() ? \"\" : C.getCurrentPathname(),\n                  o = n && C.sanitize(n) || \"\",\n                  a = e || i || o;\n            return {\n              currentPathname: n,\n              metaPropertyModelURL: i,\n              rootModelURL: a,\n              rootModelPath: C.sanitize(a) || \"\"\n            };\n          }\n\n          _fetchPageModelFromStore() {\n            const t = this.modelStore.getData();\n            return O(t), t;\n          }\n\n          _setInitializationPromise(t) {\n            const {\n              rootModelURL: e\n            } = this._modelPaths;\n            this._initPromise = this._initPromise.then(() => this._checkDependencies()).then(() => {\n              const r = this.modelStore.getData(t);\n              return r && Object.keys(r).length > 0 ? (O(r), r) : e ? this._fetchData(e).then(e => {\n                try {\n                  return this.modelStore.initialize(t, e), this._fetchActivePageModel(e) || this._fetchPageModelFromStore();\n                } catch (t) {\n                  console.error(\"Error on initialization - \" + t);\n                }\n              }) : void 0;\n            });\n          }\n\n          _fetchActivePageModel(t) {\n            const {\n              currentPathname: e,\n              metaPropertyModelURL: r\n            } = this._modelPaths,\n                  i = e && C.sanitize(e) || \"\";\n            if (e && i && !L(e) && (o = r, (n = e) && o && C.sanitize(n) !== C.sanitize(o)) && !function (t, e) {\n              const r = C.sanitize(e);\n              return !!r && !!(t && e && t[c.CHILDREN_PROP] && t[c.CHILDREN_PROP][r]);\n            }(t, e)) return this._fetchData(e).then(t => (this.modelStore.insertData(i, t), this._fetchPageModelFromStore()));\n            if (e && L(e)) return this._fetchPageModelFromStore();\n            if (!C.isBrowser()) throw new Error(\"Attempting to retrieve model data from a non-browser.\\n                Please provide the initial data with the property key model\");\n            var n, o;\n          }\n\n          get rootPath() {\n            return this.modelStore.rootPath;\n          }\n\n          getData(t) {\n            let e = \"\",\n                r = !1;\n            return \"string\" == typeof t ? e = t : t && (e = t.path || \"\", r = !!t.forceReload), (this._initPromise || Promise.resolve()).then(() => this._checkDependencies()).then(() => {\n              if (!r) {\n                const t = this.modelStore.getData(e);\n                if (t) return Promise.resolve(t);\n              }\n\n              if (C.isItem(e)) {\n                const {\n                  pageData: t,\n                  pagePath: r\n                } = this._getParentPage(e);\n\n                if (!t) return this._fetchData(r).then(t => (this._storeData(r, t), this.modelStore.getData(e)));\n              }\n\n              return this._fetchData(e).then(t => this._storeData(e, t));\n            });\n          }\n\n          _fetchData(t) {\n            if (Object.prototype.hasOwnProperty.call(this._fetchPromises, t)) return this._fetchPromises[t];\n\n            if (this.modelClient) {\n              const e = this.modelClient.fetch(this._toModelPath(t));\n              return this._fetchPromises[t] = e, e.then(e => (delete this._fetchPromises[t], this._isRemoteApp() && O(e), e)).catch(e => (delete this._fetchPromises[t], e)), e;\n            }\n\n            throw new Error(\"ModelClient not initialized!\");\n          }\n\n          _notifyListeners(t) {\n            if (t = C.adaptPagePath.call(this, t), !this._listenersMap) throw new Error(\"ListenersMap is undefined.\");\n            const e = this._listenersMap[t];\n            e && e.length && e.forEach(r => {\n              try {\n                r();\n              } catch (r) {\n                console.error(`Error in listener ${e} at path ${t}: ${r}`);\n              }\n            });\n          }\n\n          addListener(t, e) {\n            var r;\n            if (!t || \"string\" != typeof t || \"function\" != typeof e) return;\n            const i = C.adaptPagePath(t, null === (r = this.modelStore) || void 0 === r ? void 0 : r.rootPath);\n            this._listenersMap[i] = this._listenersMap[t] || [], this._listenersMap[i].push(e);\n          }\n\n          removeListener(t, e) {\n            var r;\n            if (!t || \"string\" != typeof t || \"function\" != typeof e) return;\n            const i = C.adaptPagePath(t, null === (r = this.modelStore) || void 0 === r ? void 0 : r.rootPath),\n                  n = this._listenersMap[i];\n\n            if (n) {\n              const t = n.indexOf(e);\n              -1 !== t && n.splice(t, 1);\n            }\n          }\n\n          destroy() {\n            this._modelClient && this._modelClient.destroy && this._modelClient.destroy(), this._modelStore && this._modelStore.destroy && this._modelStore.destroy(), this._editorClient && this._editorClient.destroy && this._editorClient.destroy();\n          }\n\n          _storeData(t, e) {\n            let r = !1;\n            return this._modelStore && (r = C.isItem(t)), e && Object.keys(e).length > 0 && (this.modelStore.insertData(t, e), this._notifyListeners(t)), r || this._notifyListeners(\"\"), e;\n          }\n\n          _toModelPath(t) {\n            let e = C.addSelector(t, \"model\");\n            return e = C.addExtension(e, \"json\"), e = C.externalize(e), C.makeAbsolute(e);\n          }\n\n          _toModelConfig(t) {\n            return t && \"string\" == typeof t ? {\n              path: t\n            } : t || {};\n          }\n\n          _checkDependencies() {\n            return this.modelClient ? this.modelStore ? Promise.resolve() : Promise.reject(\"No ModelManager registered.\") : Promise.reject(\"No ModelClient registered.\");\n          }\n\n          _getParentPage(t) {\n            const e = C.splitPageContentPaths(t),\n                  r = (null == e ? void 0 : e.pagePath) || \"\";\n            return {\n              pageData: this.modelStore.getData(r),\n              pagePath: r\n            };\n          }\n\n          _isRemoteApp() {\n            const t = this.modelClient.apiHost || \"\";\n            return C.isBrowser() && t.length > 0 && C.getCurrentURL() !== t;\n          }\n\n        }();\n\n        class w {\n          constructor() {}\n\n        }\n\n        function L(t) {\n          const e = function () {\n            const t = C.getMetaPropertyValue(s.PAGE_MODEL_ROUTE_FILTERS);\n            return t ? t.split(\",\") : [];\n          }();\n\n          for (let r = 0, i = e.length; r < i; r++) if (new RegExp(e[r]).test(t)) return !0;\n\n          return !1;\n        }\n\n        function T() {\n          if (!C.isBrowser()) return !1;\n          const t = C.getMetaPropertyValue(s.PAGE_MODEL_ROUTER);\n          return !t || w.DISABLED !== t;\n        }\n\n        function S(t) {\n          if (!T()) return;\n\n          const e = function (t) {\n            const e = t || window.location.pathname;\n            return C.sanitize(e);\n          }(t);\n\n          e && \"/\" !== e && !L(e) && function (t) {\n            A.getData({\n              path: t\n            }).then(t => {\n              C.dispatchGlobalCustomEvent(n.PAGE_MODEL_ROUTE_CHANGED, {\n                detail: {\n                  model: t\n                }\n              });\n            });\n          }(e);\n        }\n\n        if (w.DISABLED = \"disabled\", w.CONTENT_PATH = \"path\", T()) {\n          const t = window.history.pushState,\n                e = window.history.replaceState;\n          window.history.pushState = (e, r, i) => (S(i || null), t.apply(history, [e, r, i])), window.history.replaceState = (t, r, i) => (S(i || null), e.apply(history, [t, r, i])), window.onpopstate = t => {\n            var e, r;\n            S((null === (r = null === (e = null == t ? void 0 : t.target) || void 0 === e ? void 0 : e.location) || void 0 === r ? void 0 : r.pathname) || null);\n          };\n        }\n      }\n    },\n        e = {};\n\n    function r(i) {\n      if (e[i]) return e[i].exports;\n      var n = e[i] = {\n        exports: {}\n      };\n      return t[i](n, n.exports, r), n.exports;\n    }\n\n    return r.n = t => {\n      var e = t && t.__esModule ? () => t.default : () => t;\n      return r.d(e, {\n        a: e\n      }), e;\n    }, r.d = (t, e) => {\n      for (var i in e) r.o(e, i) && !r.o(t, i) && Object.defineProperty(t, i, {\n        enumerable: !0,\n        get: e[i]\n      });\n    }, r.o = (t, e) => Object.prototype.hasOwnProperty.call(t, e), r.r = t => {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, r(873);\n  })();\n});","map":{"version":3,"names":["t","e","exports","module","define","amd","aemSpaPageModelManager","self","TypeError","JSON","stringify","r","i","n","o","s","a","length","charCodeAt","l","lastIndexOf","slice","resolve","arguments","process","cwd","normalize","isAbsolute","join","relative","h","c","d","u","p","_makeLong","dirname","basename","extname","format","dir","root","base","name","ext","parse","sep","delimiter","win32","posix","AEM_MODE","AuthoringUtils","y","Constants","ModelClient","R","ModelManager","A","PathUtils","C","constructor","PAGE_MODEL_INIT","PAGE_MODEL_LOADED","PAGE_MODEL_UPDATE","PAGE_MODEL_ROUTE_CHANGED","PAGE_MODEL_ROOT_URL","PAGE_MODEL_ROUTE_FILTERS","PAGE_MODEL_ROUTER","WCM_MODE","WCM_DATA_TYPE","TYPE_PROP","ITEMS_PROP","ITEMS_ORDER_PROP","PATH_PROP","CHILDREN_PROP","HIERARCHY_TYPE_PROP","JCR_CONTENT","EDIT","PREVIEW","DISABLED","JS","STYLESHEET","require","f","g","_","DEFAULT_SLING_MODEL_SELECTOR","DEFAULT_MODEL_JSON_EXTENSION","m","P","E","M","isBrowser","window","getContextPath","getCurrentPathname","match","index","adaptPagePath","internalize","sanitize","externalize","startsWith","replace","RegExp","getMetaPropertyValue","document","head","querySelector","getAttribute","convertToModelUrl","getCurrentPageModelUrl","getModelUrl","pathname","indexOf","substr","addExtension","URL","origin","_extractPathWithoutResource","_replaceExtension","search","split","shift","pop","addSelector","location","getCurrentURL","href","dispatchGlobalCustomEvent","dispatchEvent","CustomEvent","filter","makeAbsolute","makeRelative","getParentNodePath","substring","isItem","test","getNodeName","Boolean","subpath","splitByDelimitators","forEach","concat","endsWith","splice","_getJCRPath","splitPageContentPaths","pagePath","itemPath","trimStrings","_getStartStrings","toAEMPath","O","detail","model","D","_modelManager","_windowListener","msg","_updateModel","console","error","addEventListener","cmd","path","data","modelStore","setData","_notifyListeners","removeData","key","insertData","value","log","dataMap","destroy","removeEventListener","_apiHost","apiHost","fetch","Promise","reject","Error","credentials","then","status","json","response","catch","v","_data","_rootPath","initialize","_pageContentDelimiter","rootPath","getData","Object","keys","_getPageData","_findItemData","warn","parent","prototype","hasOwnProperty","call","push","parentPath","_apiDomain","getApiDomain","getAemLibraries","createDocumentFragment","isRemoteApp","isEditMode","prependDomain","AUTHORING_LIBRARIES","CSS","META","append","generateScriptElements","generateLinkElements","generateMetaElements","setOnLoadCallback","querySelectorAll","onload","entries","createElement","setAttribute","content","appendChild","type","rel","src","async","isMode","getWCMModeFromURL","isPreviewMode","searchParams","get","isInEditor","EDITOR_CLIENTLIB_PATH","_listenersMap","_fetchPromises","_modelPaths","modelClient","_modelClient","_modelStore","clientlibUtil","_clientlibUtil","initializeAsync","rootModelURL","rootModelPath","_initPromise","_toModelConfig","_initializeFields","_attachAEMLibraries","_setInitializationPromise","hasChildNodes","_editorClient","_getPathsForModel","_isRemoteApp","currentPathname","metaPropertyModelURL","_fetchPageModelFromStore","_checkDependencies","_fetchData","_fetchActivePageModel","L","forceReload","pageData","_getParentPage","_storeData","_toModelPath","addListener","removeListener","w","T","S","CONTENT_PATH","history","pushState","replaceState","apply","onpopstate","target","__esModule","default","defineProperty","enumerable","Symbol","toStringTag"],"sources":["C:/sarang/code/spa/react-project/aem-guides-wknd-graphql/react-app/node_modules/@adobe/aem-spa-page-model-manager/dist/aem-spa-page-model-manager.js"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.aemSpaPageModelManager=e():t.aemSpaPageModelManager=e()}(function(){try{return\"undefined\"!=typeof self}catch(t){return!1}}()?self:this,(function(){return(()=>{\"use strict\";var t={470:t=>{function e(t){if(\"string\"!=typeof t)throw new TypeError(\"Path must be a string. Received \"+JSON.stringify(t))}function r(t,e){for(var r,i=\"\",n=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(i.length<2||2!==n||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var l=i.lastIndexOf(\"/\");if(l!==i.length-1){-1===l?(i=\"\",n=0):n=(i=i.slice(0,l)).length-1-i.lastIndexOf(\"/\"),o=a,s=0;continue}}else if(2===i.length||1===i.length){i=\"\",n=0,o=a,s=0;continue}e&&(i.length>0?i+=\"/..\":i=\"..\",n=2)}else i.length>0?i+=\"/\"+t.slice(o+1,a):i=t.slice(o+1,a),n=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return i}var i={resolve:function(){for(var t,i=\"\",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s;o>=0?s=arguments[o]:(void 0===t&&(t=process.cwd()),s=t),e(s),0!==s.length&&(i=s+\"/\"+i,n=47===s.charCodeAt(0))}return i=r(i,!n),n?i.length>0?\"/\"+i:\"/\":i.length>0?i:\".\"},normalize:function(t){if(e(t),0===t.length)return\".\";var i=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!i)).length||i||(t=\".\"),t.length>0&&n&&(t+=\"/\"),i?\"/\"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return\".\";for(var t,r=0;r<arguments.length;++r){var n=arguments[r];e(n),n.length>0&&(void 0===t?t=n:t+=\"/\"+n)}return void 0===t?\".\":i.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return\"\";if((t=i.resolve(t))===(r=i.resolve(r)))return\"\";for(var n=1;n<t.length&&47===t.charCodeAt(n);++n);for(var o=t.length,s=o-n,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var l=r.length-a,h=s<l?s:l,c=-1,d=0;d<=h;++d){if(d===h){if(l>h){if(47===r.charCodeAt(a+d))return r.slice(a+d+1);if(0===d)return r.slice(a+d)}else s>h&&(47===t.charCodeAt(n+d)?c=d:0===d&&(c=0));break}var u=t.charCodeAt(n+d);if(u!==r.charCodeAt(a+d))break;47===u&&(c=d)}var p=\"\";for(d=n+c+1;d<=o;++d)d!==o&&47!==t.charCodeAt(d)||(0===p.length?p+=\"..\":p+=\"/..\");return p.length>0?p+r.slice(a+c):(a+=c,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return\".\";for(var r=t.charCodeAt(0),i=47===r,n=-1,o=!0,s=t.length-1;s>=1;--s)if(47===(r=t.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?i?\"/\":\".\":i&&1===n?\"//\":t.slice(0,n)},basename:function(t,r){if(void 0!==r&&\"string\"!=typeof r)throw new TypeError('\"ext\" argument must be a string');e(t);var i,n=0,o=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return\"\";var a=r.length-1,l=-1;for(i=t.length-1;i>=0;--i){var h=t.charCodeAt(i);if(47===h){if(!s){n=i+1;break}}else-1===l&&(s=!1,l=i+1),a>=0&&(h===r.charCodeAt(a)?-1==--a&&(o=i):(a=-1,o=l))}return n===o?o=l:-1===o&&(o=t.length),t.slice(n,o)}for(i=t.length-1;i>=0;--i)if(47===t.charCodeAt(i)){if(!s){n=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?\"\":t.slice(n,o)},extname:function(t){e(t);for(var r=-1,i=0,n=-1,o=!0,s=0,a=t.length-1;a>=0;--a){var l=t.charCodeAt(a);if(47!==l)-1===n&&(o=!1,n=a+1),46===l?-1===r?r=a:1!==s&&(s=1):-1!==r&&(s=-1);else if(!o){i=a+1;break}}return-1===r||-1===n||0===s||1===s&&r===n-1&&r===i+1?\"\":t.slice(r,n)},format:function(t){if(null===t||\"object\"!=typeof t)throw new TypeError('The \"pathObject\" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,i=e.base||(e.name||\"\")+(e.ext||\"\");return r?r===e.root?r+i:r+\"/\"+i:i}(0,t)},parse:function(t){e(t);var r={root:\"\",dir:\"\",base:\"\",ext:\"\",name:\"\"};if(0===t.length)return r;var i,n=t.charCodeAt(0),o=47===n;o?(r.root=\"/\",i=1):i=0;for(var s=-1,a=0,l=-1,h=!0,c=t.length-1,d=0;c>=i;--c)if(47!==(n=t.charCodeAt(c)))-1===l&&(h=!1,l=c+1),46===n?-1===s?s=c:1!==d&&(d=1):-1!==s&&(d=-1);else if(!h){a=c+1;break}return-1===s||-1===l||0===d||1===d&&s===l-1&&s===a+1?-1!==l&&(r.base=r.name=0===a&&o?t.slice(1,l):t.slice(a,l)):(0===a&&o?(r.name=t.slice(1,s),r.base=t.slice(1,l)):(r.name=t.slice(a,s),r.base=t.slice(a,l)),r.ext=t.slice(s,l)),a>0?r.dir=t.slice(0,a-1):o&&(r.dir=\"/\"),r},sep:\"/\",delimiter:\":\",win32:null,posix:null};i.posix=i,t.exports=i},873:(t,e,r)=>{r.r(e),r.d(e,{AEM_MODE:()=>l,AuthoringUtils:()=>y,Constants:()=>c,ModelClient:()=>R,ModelManager:()=>A,PathUtils:()=>C});class i{constructor(){}}i.PAGE_MODEL_INIT=\"cq-pagemodel-init\",i.PAGE_MODEL_LOADED=\"cq-pagemodel-loaded\",i.PAGE_MODEL_UPDATE=\"cq-pagemodel-update\",i.PAGE_MODEL_ROUTE_CHANGED=\"cq-pagemodel-route-changed\";const n=i;class o{constructor(){}}o.PAGE_MODEL_ROOT_URL=\"cq:pagemodel_root_url\",o.PAGE_MODEL_ROUTE_FILTERS=\"cq:pagemodel_route_filters\",o.PAGE_MODEL_ROUTER=\"cq:pagemodel_router\",o.WCM_MODE=\"cq:wcmmode\",o.WCM_DATA_TYPE=\"cq:datatype\";const s=o;class a{constructor(){}}var l,h;a.TYPE_PROP=\":type\",a.ITEMS_PROP=\":items\",a.ITEMS_ORDER_PROP=\":itemsOrder\",a.PATH_PROP=\":path\",a.CHILDREN_PROP=\":children\",a.HIERARCHY_TYPE_PROP=\":hierarchyType\",a.JCR_CONTENT=\"jcr:content\",function(t){t.EDIT=\"edit\",t.PREVIEW=\"preview\",t.DISABLED=\"disabled\"}(l||(l={})),function(t){t.JS=\"script\",t.STYLESHEET=\"stylesheet\"}(h||(h={}));const c=a,d=require(\"clone\");var u=r.n(d),p=r(470);const f=require(\"url\");var g=r.n(f);class _{constructor(){}}_.DEFAULT_SLING_MODEL_SELECTOR=\"model\",_.DEFAULT_MODEL_JSON_EXTENSION=`.${_.DEFAULT_SLING_MODEL_SELECTOR}.json`;const m=_,P=/(?:\\/)(?:content|apps|libs|etc|etc.clientlibs|conf|mnt\\/overlay)(?:\\/)/,E=`(.+)/${c.JCR_CONTENT}/(.+)`,M=\"http://dummy\";class C{static isBrowser(){return\"undefined\"!=typeof window}static getContextPath(t){const e=t||this.getCurrentPathname();if(!e)return\"\";const r=e.match(P),i=null===r?-1:r.index||-1;return i>0?e.slice(0,i):\"\"}static adaptPagePath(t,e){if(!t)return\"\";const r=C.internalize(t);return e&&r===C.sanitize(e)?\"\":r}static externalize(t){const e=this.getContextPath();return t.startsWith(e)?t:`${e}${t}`}static internalize(t){if(!t||\"string\"!=typeof t)return\"\";const e=this.getContextPath();return t.replace(new RegExp(`^${e}/`),\"/\")}static getMetaPropertyValue(t){let e=null;if(this.isBrowser()){const r=document.head.querySelector(`meta[property=\"${t}\"]`);e=r?r.getAttribute(\"content\"):null}return e}static convertToModelUrl(t){return t&&t.replace&&t.replace(/\\.htm(l)?$/,m.DEFAULT_MODEL_JSON_EXTENSION)}static getCurrentPageModelUrl(){const t=this.getCurrentPathname();let e=null;return t&&(e=this.convertToModelUrl(t)||null),e}static getModelUrl(t){if(t&&t.replace)return this.convertToModelUrl(t);return this.getMetaPropertyValue(s.PAGE_MODEL_ROOT_URL)||this.getCurrentPageModelUrl()}static sanitize(t){if(!t||\"string\"!=typeof t)return null;let e=g().parse(t,!1,!0).pathname;if(e){e=this.internalize(e);const t=e.indexOf(\".\");t>-1&&(e=e.substr(0,t)),e=(0,p.normalize)(e)}return e}static addExtension(t,e){if(!e||e.length<1)return t;if(e.startsWith(\".\")||(e=\".\"+e),!t||t.length<1||t.indexOf(e)>-1)return t;let r=this.normalize(t);const i=new URL(r,M);let n=this.sanitize(i.pathname);n=i.origin===M?n:i.origin+n;let o=this._extractPathWithoutResource(i.pathname);return o=this._replaceExtension(o,e),r=(n+\".\"+o+i.search).replace(/\\.\\./g,\".\"),r}static _extractPathWithoutResource(t){const e=t.split(\".\");return e.shift(),e.join(\".\")}static _replaceExtension(t,e){if(t.length<1)return e;const r=t.split(\"/\"),i=r[0].split(\".\");let n=i.pop();n=n?n.replace(/\\.htm(l)?/,\"\"):\"\";let o=i.join(\".\")+\".\"+n+e;return r.shift(),r.length>0&&(o+=r.join(\"/\")),o}static addSelector(t,e){if(!e||e.length<1)return t;if(e.startsWith(\".\")||(e=\".\"+e),!t||t.length<1||t.indexOf(e)>-1)return t;const r=t.indexOf(\".\")||t.length;return r<0?t+e:t.slice(0,r)+e+t.slice(r,t.length)}static getCurrentPathname(){return this.isBrowser()?window.location.pathname:null}static getCurrentURL(){return this.isBrowser()?window.location.href:\"\"}static dispatchGlobalCustomEvent(t,e){this.isBrowser()&&window.dispatchEvent(new CustomEvent(t,e))}static join(t){return t?this.normalize(t.filter((t=>t)).join(\"/\")):\"\"}static normalize(t){return t?t.replace(/\\/+/g,\"/\"):\"\"}static makeAbsolute(t){return t&&\"string\"==typeof t?t.startsWith(\"/\")?t:\"/\"+t:\"\"}static makeRelative(t){return t&&\"string\"==typeof t?t.startsWith(\"/\")?t.slice(1):t:\"\"}static getParentNodePath(t){if(t&&t.length>0){const e=t.lastIndexOf(\"/\")+1;if(e<t.length)return t.substring(0,e-1)}return null}static isItem(t){return new RegExp(E).test(t)}static getNodeName(t){return(\"string\"==typeof t?t.replace(/\\/+/g,\"/\").split(/\\//).filter(Boolean):[]).pop()||null}static subpath(t,e){if(!t)return\"\";const r=C.makeRelative(t).split(\"/\"),i=C.makeRelative(e).split(\"/\");if(r.length<i.length)return t;let n;for(n=0;n<i.length&&r[n]===i[n];++n);return n===i.length?r.slice(n).join(\"/\"):t}static splitByDelimitators(t,e){let r=[t];return e.forEach((t=>{let e=[];const i=C.normalize(C.makeAbsolute(t)+\"/\");r.forEach((r=>{if(e=e.concat(r.split(i)),r.endsWith(t)){const r=e.splice(e.length-1,1)[0];r!==t&&(e=e.concat(r.split(C.makeAbsolute(t))))}e=e.filter((t=>t))})),r=e})),r}static _getJCRPath(t,e){return[t,c.JCR_CONTENT,e].join(\"/\")}static splitPageContentPaths(t){if(!t&&\"string\"!=typeof t)return;const e=t.split(`/${c.JCR_CONTENT}/`),r={pagePath:e[0]};return e.length>1&&(r.itemPath=e[1]),r}static trimStrings(t,e){return e.forEach((e=>{for(;t.startsWith(e);)t=C.makeRelative(t.slice(e.length));for(;t.endsWith(e);)(t=t.slice(0,t.length-e.length)).endsWith(\"/\")&&(t=t.slice(0,t.length-1))})),t}static _getStartStrings(t,e){let r=\"\";return e.forEach((e=>{for(;t.startsWith(e);)t=C.makeRelative(t.slice(e.length)),r=`${r}/${e}`})),C.makeRelative(r)}static toAEMPath(t,e,r){if(window.location.origin===e){const e=`(/editor.html)?(/content/${r=r.replace(/^\\/|\\/$/g,\"\")})?`;if(t.indexOf(e)<0)return`${e}${t}(.html)?`}return t}}function O(t){C.dispatchGlobalCustomEvent(n.PAGE_MODEL_LOADED,{detail:{model:u()(t)}})}class D{constructor(t){this._modelManager=t,this._windowListener=t=>{t&&t.detail&&t.detail.msg?this._updateModel(t.detail.msg):console.error(\"EditorService.js\",\"No message passed to cq-pagemodel-update\",t)},C.isBrowser()&&window.addEventListener(n.PAGE_MODEL_UPDATE,this._windowListener)}_updateModel(t){if(!t||!t.cmd||!t.path)return void console.error(\"PageModelManager.js\",\"Not enough data received to update the page model\");const e=t.path,r=t.cmd,i=u()(t.data);let n,o,s;const a=C.getParentNodePath(e);switch(r){case\"replace\":this._modelManager.modelStore.setData(e,i),this._modelManager._notifyListeners(e);break;case\"delete\":this._modelManager.modelStore.removeData(e),a&&this._modelManager._notifyListeners(a);break;case\"insertBefore\":s=!0;case\"insertAfter\":n=C.getNodeName(e),a&&(o=a+\"/\"+i.key,this._modelManager.modelStore.insertData(o,i.value,n,s),this._modelManager._notifyListeners(a));break;default:console.log(\"EditorClient\",\"unsupported command:\",r)}O(this._modelManager.modelStore.dataMap)}destroy(){C.isBrowser()&&window.removeEventListener(n.PAGE_MODEL_UPDATE,this._windowListener)}}class R{constructor(t){this._apiHost=t||null}get apiHost(){return this._apiHost}fetch(t){if(!t){const e=\"Fetching model rejected for path: \"+t;return Promise.reject(new Error(e))}const e=this._apiHost||\"\";return fetch(`${e}${t}`,{credentials:\"same-origin\"}).then((t=>{if(t.status>=200&&t.status<300)return t.json();throw{response:t}})).catch((t=>Promise.reject(t)))}destroy(){this._apiHost=null}}class v{constructor(t,e){this._data=null,this._rootPath=null,this._data={},t&&this.initialize(t,e||{}),this._pageContentDelimiter=[c.JCR_CONTENT]}initialize(t,e){e&&(this._data=e),this._rootPath=t}get rootPath(){return this._rootPath||\"\"}get dataMap(){return this._data}setData(t,e={}){const r=C.getNodeName(t);if(r){const i=this.getData(C.getParentNodePath(t),!1);if(i&&i[c.ITEMS_PROP]){const t=u()(e),n=i[c.ITEMS_PROP]||{};n[r]&&Object.keys(n[r]).forEach((e=>t.value[e]=t.value[e]||\"\")),n[r]=t.value,i[c.ITEMS_PROP]=n}}}getData(t,e=!0){if(!t&&\"string\"!=typeof t)return e?u()(this._data):this._data;if(t===this._rootPath||t===`${this._rootPath}/${c.JCR_CONTENT}`)return e?u()(this._data):this._data;const r=C.splitPageContentPaths(t);if(r){const t=this._getPageData(r.pagePath);if(!t||!r.itemPath)return e?u()(t):t;const i=this._findItemData(r.itemPath,t);if(i)return e?u()(i.data):i.data}}insertData(t,e,r,i=!1){if(e=u()(e),!t)return void console.warn(\"No path provided for data: \"+e);if(!C.isItem(t)&&this._data)return this._data[c.CHILDREN_PROP]||(this._data[c.CHILDREN_PROP]={}),void(this._data[c.CHILDREN_PROP][t]=e);const n=C.splitPageContentPaths(t);if(n&&n.itemPath){const t=this._getPageData(n.pagePath),o=this._findItemData(n.itemPath,t).parent||t||this._data,s=C.getNodeName(n.itemPath);if(null!=s&&o&&Object.prototype.hasOwnProperty.call(o,c.ITEMS_PROP)){const t=o[c.ITEMS_PROP];if(t){t[s]=e;const n=o[c.ITEMS_ORDER_PROP];if(null!=n&&n.length>0&&null!=r){const t=n.indexOf(r);t>-1?n.splice(i?t:t+1,0,s):n.push(s)}}}}}removeData(t){if(!t)return null;if(!C.isItem(t)&&this._data&&this._data[c.CHILDREN_PROP])return delete this._data[c.CHILDREN_PROP][t],null;const e=C.splitPageContentPaths(t);if(e&&e.itemPath){const t=this._getPageData(e.pagePath),r=this._findItemData(e.itemPath,t);if(r.data&&r&&r.parent&&Object.prototype.hasOwnProperty.call(r.parent,c.ITEMS_PROP)){const{parent:t}=r,i=t[c.ITEMS_PROP],n=C.getNodeName(e.itemPath);if(n){i&&delete i[n],delete r.data,delete r.parent;const e=t[c.ITEMS_ORDER_PROP];if(e&&e.length>0){const t=e.indexOf(n);e.splice(t,1)}return r.parentPath?r.parentPath:null}}}return console.warn(`Item for path ${t} was not found! Nothing to remove then.`),null}destroy(){this._data=null,this._rootPath=null,this._pageContentDelimiter=null}_findItemData(t,e=this._data,r=null,i=\"\"){const n={parent:r,parentPath:i};if(!e)throw new Error(\"Assertion error: No data provided. This should never happen.\");const o=e[c.ITEMS_PROP];if(!o)return n;for(const e in o){if(!Object.prototype.hasOwnProperty.call(o,e))continue;const r=o[e];if(e===t)return n.data=o[e],n.key=e,n;{let n=C.subpath(t,e);if(!this._pageContentDelimiter)throw new Error(\"_pageContentDelimiter not set. this should never happen as its set in constructor.\");{const o=C._getStartStrings(n,this._pageContentDelimiter),s=C.join([i,e,o]);if(n=C.trimStrings(n,this._pageContentDelimiter),n!==t){const t=this._findItemData(n,r,r,s);if(t)return t}}}}return n}_getPageData(t){if(!this._data)return;if(\"\"===t||t===this._data[c.PATH_PROP]||t===this.rootPath)return this._data;const e=this._data[c.CHILDREN_PROP];return e&&e[t]}}class y{constructor(t){this._apiDomain=t}getApiDomain(){return this._apiDomain}getAemLibraries(){const t=document.createDocumentFragment();if(!y.isRemoteApp()||!y.isEditMode())return t;const e=this.prependDomain(y.AUTHORING_LIBRARIES.JS),r=this.prependDomain(y.AUTHORING_LIBRARIES.CSS),i=y.AUTHORING_LIBRARIES.META;return t.append(this.generateScriptElements(e)),t.append(this.generateLinkElements(r)),t.append(this.generateMetaElements(i)),t}setOnLoadCallback(t,e){const r=t.querySelectorAll(\"script\");r.length?r[r.length-1].onload=()=>{e()}:e()}generateMetaElements(t){const e=document.createDocumentFragment();return Object.entries(t).forEach((t=>{const[r,i]=t,n=document.createElement(\"meta\");n.setAttribute(\"property\",r),n.content=i,e.appendChild(n)})),e}generateLinkElements(t){const e=document.createDocumentFragment();return t.forEach((t=>{const r=document.createElement(\"link\");r.type=\"text/css\",r.rel=\"stylesheet\",r.href=t,e.appendChild(r)})),e}generateScriptElements(t){const e=document.createDocumentFragment();return t.forEach((t=>{const r=document.createElement(\"script\");r.type=\"text/javascript\",r.src=t,r.async=!1,e.appendChild(r)})),e}static isMode(t){const e=C.getMetaPropertyValue(s.WCM_MODE)===t,r=C.isBrowser()&&y.getWCMModeFromURL()===t;return e||r}static isEditMode(){return y.isMode(l.EDIT)}static isPreviewMode(){return y.isMode(l.PREVIEW)}static isRemoteApp(){try{return!!new URL(C.getCurrentURL()).searchParams.get(s.WCM_MODE)}catch(t){}return!1}static getWCMModeFromURL(){let t;try{return t=new URL(C.getCurrentURL()),t.searchParams.get(s.WCM_MODE)||\"\"}catch(t){}return\"\"}prependDomain(t){const e=[],r=this.getApiDomain();return t.forEach((t=>{e.push(`${r||\"\"}${t}`)})),e}static isInEditor(){return y.isEditMode()||y.isPreviewMode()||y.isRemoteApp()}}y.EDITOR_CLIENTLIB_PATH=\"/etc.clientlibs/cq/gui/components/authoring/editors/clientlibs/\",y.AUTHORING_LIBRARIES={JS:[y.EDITOR_CLIENTLIB_PATH+\"internal/messaging.js\",y.EDITOR_CLIENTLIB_PATH+\"utils.js\",y.EDITOR_CLIENTLIB_PATH+\"internal/page.js\",y.EDITOR_CLIENTLIB_PATH+\"internal/pagemodel/messaging.js\"],CSS:[y.EDITOR_CLIENTLIB_PATH+\"internal/page.css\"],META:{[s.WCM_DATA_TYPE]:\"JSON\"}};const A=new class{constructor(){this._listenersMap={},this._fetchPromises={},this._modelPaths={}}get modelClient(){if(!this._modelClient)throw new Error(\"ModelClient is undefined. Call initialize first!\");return this._modelClient}get modelStore(){if(!this._modelStore)throw new Error(\"ModelStore is undefined. Call initialize first!\");return this._modelStore}get clientlibUtil(){if(!this._clientlibUtil)throw new Error(\"AuthoringUtils is undefined. Call initialize first!\");return this._clientlibUtil}initialize(t){this.initializeAsync(t);const{rootModelURL:e,rootModelPath:r}=this._modelPaths;if(!e)throw new Error(\"Provide root model url to initialize ModelManager.\");if(!r)throw new Error(\"No root modelpath resolved! This should never happen.\");return this._initPromise}initializeAsync(t){this.destroy();const e=this._toModelConfig(t),r=e&&e.model;this._initializeFields(e),this._initPromise=this._attachAEMLibraries();const{rootModelPath:i}=this._modelPaths;this._modelStore=new v(i,r),i&&this._setInitializationPromise(i)}_attachAEMLibraries(){if(!C.isBrowser())return Promise.resolve();const t=this.clientlibUtil.getAemLibraries();if(!t.hasChildNodes())return Promise.resolve();let e;const r=new Promise((t=>{e=t}));return this.clientlibUtil.setOnLoadCallback(t,e),window.document.head.appendChild(t),r}_initializeFields(t){this._listenersMap={},this._fetchPromises={},this._initPromise=null,this._modelClient=t&&t.modelClient||new R,this._editorClient=new D(this),this._clientlibUtil=new y(this.modelClient.apiHost),this._modelPaths=this._getPathsForModel(t)}_getPathsForModel(t){const e=null==t?void 0:t.path,r=C.getMetaPropertyValue(s.PAGE_MODEL_ROOT_URL),i=C.internalize(r),n=this._isRemoteApp()?\"\":C.getCurrentPathname(),o=n&&C.sanitize(n)||\"\",a=e||i||o;return{currentPathname:n,metaPropertyModelURL:i,rootModelURL:a,rootModelPath:C.sanitize(a)||\"\"}}_fetchPageModelFromStore(){const t=this.modelStore.getData();return O(t),t}_setInitializationPromise(t){const{rootModelURL:e}=this._modelPaths;this._initPromise=this._initPromise.then((()=>this._checkDependencies())).then((()=>{const r=this.modelStore.getData(t);return r&&Object.keys(r).length>0?(O(r),r):e?this._fetchData(e).then((e=>{try{return this.modelStore.initialize(t,e),this._fetchActivePageModel(e)||this._fetchPageModelFromStore()}catch(t){console.error(\"Error on initialization - \"+t)}})):void 0}))}_fetchActivePageModel(t){const{currentPathname:e,metaPropertyModelURL:r}=this._modelPaths,i=e&&C.sanitize(e)||\"\";if(e&&i&&!L(e)&&(o=r,(n=e)&&o&&C.sanitize(n)!==C.sanitize(o))&&!function(t,e){const r=C.sanitize(e);return!!r&&!!(t&&e&&t[c.CHILDREN_PROP]&&t[c.CHILDREN_PROP][r])}(t,e))return this._fetchData(e).then((t=>(this.modelStore.insertData(i,t),this._fetchPageModelFromStore())));if(e&&L(e))return this._fetchPageModelFromStore();if(!C.isBrowser())throw new Error(\"Attempting to retrieve model data from a non-browser.\\n                Please provide the initial data with the property key model\");var n,o}get rootPath(){return this.modelStore.rootPath}getData(t){let e=\"\",r=!1;return\"string\"==typeof t?e=t:t&&(e=t.path||\"\",r=!!t.forceReload),(this._initPromise||Promise.resolve()).then((()=>this._checkDependencies())).then((()=>{if(!r){const t=this.modelStore.getData(e);if(t)return Promise.resolve(t)}if(C.isItem(e)){const{pageData:t,pagePath:r}=this._getParentPage(e);if(!t)return this._fetchData(r).then((t=>(this._storeData(r,t),this.modelStore.getData(e))))}return this._fetchData(e).then((t=>this._storeData(e,t)))}))}_fetchData(t){if(Object.prototype.hasOwnProperty.call(this._fetchPromises,t))return this._fetchPromises[t];if(this.modelClient){const e=this.modelClient.fetch(this._toModelPath(t));return this._fetchPromises[t]=e,e.then((e=>(delete this._fetchPromises[t],this._isRemoteApp()&&O(e),e))).catch((e=>(delete this._fetchPromises[t],e))),e}throw new Error(\"ModelClient not initialized!\")}_notifyListeners(t){if(t=C.adaptPagePath.call(this,t),!this._listenersMap)throw new Error(\"ListenersMap is undefined.\");const e=this._listenersMap[t];e&&e.length&&e.forEach((r=>{try{r()}catch(r){console.error(`Error in listener ${e} at path ${t}: ${r}`)}}))}addListener(t,e){var r;if(!t||\"string\"!=typeof t||\"function\"!=typeof e)return;const i=C.adaptPagePath(t,null===(r=this.modelStore)||void 0===r?void 0:r.rootPath);this._listenersMap[i]=this._listenersMap[t]||[],this._listenersMap[i].push(e)}removeListener(t,e){var r;if(!t||\"string\"!=typeof t||\"function\"!=typeof e)return;const i=C.adaptPagePath(t,null===(r=this.modelStore)||void 0===r?void 0:r.rootPath),n=this._listenersMap[i];if(n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}destroy(){this._modelClient&&this._modelClient.destroy&&this._modelClient.destroy(),this._modelStore&&this._modelStore.destroy&&this._modelStore.destroy(),this._editorClient&&this._editorClient.destroy&&this._editorClient.destroy()}_storeData(t,e){let r=!1;return this._modelStore&&(r=C.isItem(t)),e&&Object.keys(e).length>0&&(this.modelStore.insertData(t,e),this._notifyListeners(t)),r||this._notifyListeners(\"\"),e}_toModelPath(t){let e=C.addSelector(t,\"model\");return e=C.addExtension(e,\"json\"),e=C.externalize(e),C.makeAbsolute(e)}_toModelConfig(t){return t&&\"string\"==typeof t?{path:t}:t||{}}_checkDependencies(){return this.modelClient?this.modelStore?Promise.resolve():Promise.reject(\"No ModelManager registered.\"):Promise.reject(\"No ModelClient registered.\")}_getParentPage(t){const e=C.splitPageContentPaths(t),r=(null==e?void 0:e.pagePath)||\"\";return{pageData:this.modelStore.getData(r),pagePath:r}}_isRemoteApp(){const t=this.modelClient.apiHost||\"\";return C.isBrowser()&&t.length>0&&C.getCurrentURL()!==t}};class w{constructor(){}}function L(t){const e=function(){const t=C.getMetaPropertyValue(s.PAGE_MODEL_ROUTE_FILTERS);return t?t.split(\",\"):[]}();for(let r=0,i=e.length;r<i;r++)if(new RegExp(e[r]).test(t))return!0;return!1}function T(){if(!C.isBrowser())return!1;const t=C.getMetaPropertyValue(s.PAGE_MODEL_ROUTER);return!t||w.DISABLED!==t}function S(t){if(!T())return;const e=function(t){const e=t||window.location.pathname;return C.sanitize(e)}(t);e&&\"/\"!==e&&!L(e)&&function(t){A.getData({path:t}).then((t=>{C.dispatchGlobalCustomEvent(n.PAGE_MODEL_ROUTE_CHANGED,{detail:{model:t}})}))}(e)}if(w.DISABLED=\"disabled\",w.CONTENT_PATH=\"path\",T()){const t=window.history.pushState,e=window.history.replaceState;window.history.pushState=(e,r,i)=>(S(i||null),t.apply(history,[e,r,i])),window.history.replaceState=(t,r,i)=>(S(i||null),e.apply(history,[t,r,i])),window.onpopstate=t=>{var e,r;S((null===(r=null===(e=null==t?void 0:t.target)||void 0===e?void 0:e.location)||void 0===r?void 0:r.pathname)||null)}}}},e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={exports:{}};return t[i](n,n.exports,r),n.exports}return r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r(873)})()}));"],"mappings":"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"},"metadata":{},"sourceType":"script"}