{"ast":null,"code":"var _jsxFileName = \"C:\\\\sarang\\\\code\\\\spa\\\\react-project\\\\aem-guides-wknd-graphql\\\\react-app\\\\src\\\\components\\\\Adventures.js\";\n\n/*\r\nCopyright 2022 Adobe\r\nAll Rights Reserved.\r\n\r\nNOTICE: Adobe permits you to use, modify, and distribute this file in\r\naccordance with the terms of the Adobe license agreement accompanying\r\nit.\r\n*/\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport CurrencyFormat from 'react-currency-format';\nimport { getAllAdventures, getAdventuresByActivity } from '../api/persistedQueries';\nimport Error from './Error';\nimport Loading from './Loading';\nimport './Adventures.scss';\n\nfunction Adventures(_ref) {\n  let {\n    adventureActivity\n  } = _ref;\n  const [response, setResponse] = useState();\n  useEffect(() => {\n    // set response to null while fetching the new data (prompts loading icon)\n    setResponse(); // if an activity is set (i.e \"Camping\", \"Hiking\"...)\n\n    if (adventureActivity && adventureActivity !== '') {\n      // run a filter query to get adventures based on the activity\n      getAdventuresByActivity(adventureActivity).then(response => setResponse(response));\n    } else {\n      // Otherwise get all the adventures data (unfiltered)\n      getAllAdventures().then(response => setResponse(response));\n    }\n  }, [adventureActivity]); //If response is null then return a loading state...\n\n  if (!response) return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 26\n    }\n  }); //If there is an error with the GraphQL query\n\n  if (response && response.errors) return /*#__PURE__*/React.createElement(Error, {\n    errorMessage: response.errors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 44\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"adventures\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"adventure-items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, //Iterate over the returned data items from the query\n  response.data.adventureList.items.map(adventure => {\n    return /*#__PURE__*/React.createElement(AdventureListItem, Object.assign({\n      key: adventure.slug\n    }, adventure, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }));\n  })));\n} // Render individual Adventure item\n\n\nfunction AdventureListItem(_ref2) {\n  let {\n    title,\n    _path,\n    primaryImage,\n    tripLength,\n    price\n  } = _ref2;\n\n  //Must have title, path, and image\n  if (!title || !_path || !primaryImage) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: \"adventure-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/adventure:${_path}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"adventure-item-image\",\n    src: primaryImage._path,\n    alt: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"adventure-item-length-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"adventure-item-length\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, tripLength), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"adventure-item-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CurrencyFormat, {\n    value: price,\n    displayType: 'text',\n    thousandSeparator: true,\n    prefix: '$',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"adventure-item-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, title));\n}\n\nexport default Adventures;","map":{"version":3,"names":["React","useState","useEffect","Link","CurrencyFormat","getAllAdventures","getAdventuresByActivity","Error","Loading","Adventures","adventureActivity","response","setResponse","then","errors","data","adventureList","items","map","adventure","slug","AdventureListItem","title","_path","primaryImage","tripLength","price"],"sources":["C:/sarang/code/spa/react-project/aem-guides-wknd-graphql/react-app/src/components/Adventures.js"],"sourcesContent":["/*\r\nCopyright 2022 Adobe\r\nAll Rights Reserved.\r\n\r\nNOTICE: Adobe permits you to use, modify, and distribute this file in\r\naccordance with the terms of the Adobe license agreement accompanying\r\nit.\r\n*/\r\nimport React, {useState, useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport {getAllAdventures, getAdventuresByActivity} from '../api/persistedQueries';\r\nimport Error from './Error';\r\nimport Loading from './Loading';\r\nimport './Adventures.scss';\r\n\r\nfunction Adventures({adventureActivity}) {\r\n    \r\n    const [response, setResponse] = useState();\r\n\r\n    useEffect(() => {\r\n\r\n        // set response to null while fetching the new data (prompts loading icon)\r\n        setResponse();\r\n\r\n        // if an activity is set (i.e \"Camping\", \"Hiking\"...)\r\n        if(adventureActivity && adventureActivity !== '') {\r\n            // run a filter query to get adventures based on the activity\r\n            getAdventuresByActivity(adventureActivity)\r\n                .then(response => setResponse(response));\r\n        }\r\n        else {\r\n            // Otherwise get all the adventures data (unfiltered)\r\n            getAllAdventures()\r\n                .then(response => setResponse(response));\r\n        }\r\n      }, [adventureActivity])\r\n\r\n    //If response is null then return a loading state...\r\n    if(!response) return <Loading />;\r\n\r\n    //If there is an error with the GraphQL query\r\n    if(response && response.errors) return <Error errorMessage={response.errors} />;\r\n    \r\n    return (\r\n        <div className=\"adventures\">\r\n          <ul className=\"adventure-items\">\r\n            {\r\n                //Iterate over the returned data items from the query\r\n                response.data.adventureList.items.map((adventure) => {\r\n                    return (\r\n                        <AdventureListItem key={adventure.slug} {...adventure} />\r\n                    );\r\n                })\r\n            }\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Render individual Adventure item\r\nfunction AdventureListItem({title, _path, primaryImage, tripLength, price}) {\r\n\r\n  //Must have title, path, and image\r\n  if(!title || !_path || !primaryImage ) {\r\n    return null;\r\n  }\r\n  return (\r\n        <li className=\"adventure-item\">\r\n          <Link to={`/adventure:${_path}`}>\r\n            <img className=\"adventure-item-image\" src={primaryImage._path} \r\n                 alt={title}/>\r\n          </Link>\r\n          <div className=\"adventure-item-length-price\">\r\n            <div className=\"adventure-item-length\">{tripLength}</div>\r\n            <div className=\"adventure-item-price\">\r\n                <CurrencyFormat value={price} displayType={'text'} thousandSeparator={true} prefix={'$'} />\r\n            </div>\r\n          </div>\r\n          <div className=\"adventure-item-title\">{title}</div>\r\n      </li>\r\n      );\r\n}\r\n\r\nexport default Adventures;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}