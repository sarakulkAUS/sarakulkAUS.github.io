{"ast":null,"code":"/*\nCopyright 2019 Adobe. All rights reserved.\nThis file is licensed to you under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License. You may obtain a copy\nof the License at http://www.apache.org/licenses/LICENSE-2.0\nUnless required by applicable law or agreed to in writing, software distributed under\nthe License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\nOF ANY KIND, either express or implied. See the License for the specific language\ngoverning permissions and limitations under the License.\n*/\nconst util = require('util');\n\nconst AioCoreSDKError = require('./AioCoreSDKError');\n/**\n * Returns a function that creates an Error class with the specified parameters.\n * The returned function takes one parameter, code (string), which is the error code.\n *\n * @param {string} errorClassName\n * @param {string} sdkName\n * @param {string} message\n * @param {Class} BaseClass\n * @private\n */\n\n\nfunction curryCreateClass(errorClassName, sdkName, message, BaseClass) {\n  return function (code) {\n    return class extends BaseClass {\n      constructor() {\n        let {\n          sdkDetails,\n          messageValues = []\n        } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        // wrap an array around it if not one\n        if (!Array.isArray(messageValues)) {\n          messageValues = [messageValues];\n        }\n\n        super(util.format(message, ...messageValues), code, sdkName, sdkDetails);\n        this.name = errorClassName;\n      }\n\n    };\n  };\n}\n/**\n * Returns a function that updates the parameters specified.\n * This is used in ErrorWrapper.\n *\n * @callback createUpdater\n * @param {Object<string, Error>} codes an object that will map an error code to an Error class.\n * @param {Map<string, string>} messages a Map, that will map the error code to an error message\n */\n\n\nfunction createUpdater(codes, messages) {\n  return function (code, message, clazz) {\n    messages.set(code, message);\n    codes[code] = clazz;\n  };\n}\n/**\n * Returns a function that will dynamically create a class with the\n * error code specified, and updates the objects specified via the Updater parameter.\n *\n * The returned function takes two parameters:\n *    - code (string), which is the error code.\n *    - message (string), which is the error message (can contain format specifiers)\n *\n * @param {string} errorClassName The class name for your SDK Error. Your Error objects will be these objects\n * @param {string} sdkName The name of your SDK. This will be a property in your Error objects\n * @param {createUpdater} updater the object returned from a createUpdater call\n * @param {Error} baseClass the base class that your Error class is extending. AioCoreSDKError is the default\n */\n\n\nfunction ErrorWrapper(errorClassName, sdkName, updater) {\n  let baseClass = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : AioCoreSDKError;\n  return function (code, message) {\n    const createClass = curryCreateClass(errorClassName, sdkName, message, baseClass);\n    const clazz = createClass(code);\n    updater(code, message, clazz);\n  };\n}\n\nmodule.exports = {\n  ErrorWrapper,\n  createUpdater\n};","map":{"version":3,"names":["util","require","AioCoreSDKError","curryCreateClass","errorClassName","sdkName","message","BaseClass","code","constructor","sdkDetails","messageValues","Array","isArray","format","name","createUpdater","codes","messages","clazz","set","ErrorWrapper","updater","baseClass","createClass","module","exports"],"sources":["C:/sarang/code/spa/react-project/aem-guides-wknd-graphql/react-app/node_modules/@adobe/aio-lib-core-errors/src/AioCoreSDKErrorWrapper.js"],"sourcesContent":["/*\nCopyright 2019 Adobe. All rights reserved.\nThis file is licensed to you under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License. You may obtain a copy\nof the License at http://www.apache.org/licenses/LICENSE-2.0\nUnless required by applicable law or agreed to in writing, software distributed under\nthe License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\nOF ANY KIND, either express or implied. See the License for the specific language\ngoverning permissions and limitations under the License.\n*/\n\nconst util = require('util')\nconst AioCoreSDKError = require('./AioCoreSDKError')\n\n/**\n * Returns a function that creates an Error class with the specified parameters.\n * The returned function takes one parameter, code (string), which is the error code.\n *\n * @param {string} errorClassName\n * @param {string} sdkName\n * @param {string} message\n * @param {Class} BaseClass\n * @private\n */\nfunction curryCreateClass (errorClassName, sdkName, message, BaseClass) {\n  return function (code) {\n    return class extends BaseClass {\n      constructor ({ sdkDetails, messageValues = [] } = {}) {\n        // wrap an array around it if not one\n        if (!Array.isArray(messageValues)) {\n          messageValues = [messageValues]\n        }\n        super(util.format(message, ...messageValues), code, sdkName, sdkDetails)\n        this.name = errorClassName\n      }\n    }\n  }\n}\n\n/**\n * Returns a function that updates the parameters specified.\n * This is used in ErrorWrapper.\n *\n * @callback createUpdater\n * @param {Object<string, Error>} codes an object that will map an error code to an Error class.\n * @param {Map<string, string>} messages a Map, that will map the error code to an error message\n */\nfunction createUpdater (codes, messages) {\n  return function (code, message, clazz) {\n    messages.set(code, message)\n    codes[code] = clazz\n  }\n}\n\n/**\n * Returns a function that will dynamically create a class with the\n * error code specified, and updates the objects specified via the Updater parameter.\n *\n * The returned function takes two parameters:\n *    - code (string), which is the error code.\n *    - message (string), which is the error message (can contain format specifiers)\n *\n * @param {string} errorClassName The class name for your SDK Error. Your Error objects will be these objects\n * @param {string} sdkName The name of your SDK. This will be a property in your Error objects\n * @param {createUpdater} updater the object returned from a createUpdater call\n * @param {Error} baseClass the base class that your Error class is extending. AioCoreSDKError is the default\n */\nfunction ErrorWrapper (errorClassName, sdkName, updater, baseClass = AioCoreSDKError) {\n  return function (code, message) {\n    const createClass = curryCreateClass(errorClassName, sdkName, message, baseClass)\n    const clazz = createClass(code)\n    updater(code, message, clazz)\n  }\n}\n\nmodule.exports = {\n  ErrorWrapper,\n  createUpdater\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMC,eAAe,GAAGD,OAAO,CAAC,mBAAD,CAA/B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASE,gBAAT,CAA2BC,cAA3B,EAA2CC,OAA3C,EAAoDC,OAApD,EAA6DC,SAA7D,EAAwE;EACtE,OAAO,UAAUC,IAAV,EAAgB;IACrB,OAAO,cAAcD,SAAd,CAAwB;MAC7BE,WAAW,GAA2C;QAAA,IAAzC;UAAEC,UAAF;UAAcC,aAAa,GAAG;QAA9B,CAAyC,uEAAJ,EAAI;;QACpD;QACA,IAAI,CAACC,KAAK,CAACC,OAAN,CAAcF,aAAd,CAAL,EAAmC;UACjCA,aAAa,GAAG,CAACA,aAAD,CAAhB;QACD;;QACD,MAAMX,IAAI,CAACc,MAAL,CAAYR,OAAZ,EAAqB,GAAGK,aAAxB,CAAN,EAA8CH,IAA9C,EAAoDH,OAApD,EAA6DK,UAA7D;QACA,KAAKK,IAAL,GAAYX,cAAZ;MACD;;IAR4B,CAA/B;EAUD,CAXD;AAYD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASY,aAAT,CAAwBC,KAAxB,EAA+BC,QAA/B,EAAyC;EACvC,OAAO,UAAUV,IAAV,EAAgBF,OAAhB,EAAyBa,KAAzB,EAAgC;IACrCD,QAAQ,CAACE,GAAT,CAAaZ,IAAb,EAAmBF,OAAnB;IACAW,KAAK,CAACT,IAAD,CAAL,GAAcW,KAAd;EACD,CAHD;AAID;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASE,YAAT,CAAuBjB,cAAvB,EAAuCC,OAAvC,EAAgDiB,OAAhD,EAAsF;EAAA,IAA7BC,SAA6B,uEAAjBrB,eAAiB;EACpF,OAAO,UAAUM,IAAV,EAAgBF,OAAhB,EAAyB;IAC9B,MAAMkB,WAAW,GAAGrB,gBAAgB,CAACC,cAAD,EAAiBC,OAAjB,EAA0BC,OAA1B,EAAmCiB,SAAnC,CAApC;IACA,MAAMJ,KAAK,GAAGK,WAAW,CAAChB,IAAD,CAAzB;IACAc,OAAO,CAACd,IAAD,EAAOF,OAAP,EAAgBa,KAAhB,CAAP;EACD,CAJD;AAKD;;AAEDM,MAAM,CAACC,OAAP,GAAiB;EACfL,YADe;EAEfL;AAFe,CAAjB"},"metadata":{},"sourceType":"script"}